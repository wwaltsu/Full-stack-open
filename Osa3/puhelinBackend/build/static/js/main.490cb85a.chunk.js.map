{"version":3,"sources":["services/personservice.js","components/Filtteri.js","components/LisaaHenkilo.js","components/Henkilot.js","components/Success.js","components/Error.js","App.js","index.js"],"names":["url","axios","get","then","response","data","id","delete","personObject","post","put","Filtteri","filtered","setFiltered","value","onChange","event","target","LisaaHenkilo","create","setNewName","newNumber","setNewNumber","update","persons","setPersons","newName","updatePerson","person","window","confirm","name","number","onSubmit","preventDefault","isAldreadyAdded","find","undefined","includes","concat","type","Henkilot","remove","filter","toLowerCase","map","key","onClick","Success","message","className","Error","App","useState","success","setSuccess","error","setError","useEffect","personService","initialPersons","returnedPerson","setTimeout","catch","console","log","x","a","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.490cb85a.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst url = '/api/persons';\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(url);\r\n    return request.then(response => response.data)\r\n};\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${url}/${id}`);\r\n    return request.then(response => response.data)\r\n};\r\nconst create = personObject => {\r\n    const request = axios.post(url, personObject);\r\n    return request.then(response => response.data)\r\n};\r\n\r\nconst update = (id, personObject) => {\r\n    const request = axios.put(`${url}/${id}`, personObject);\r\n    return request.then(response => response.data)\r\n};\r\n\r\nexport default { getAll, remove, create, update}","import React from 'react'\r\n\r\nconst Filtteri = ({ filtered, setFiltered}) => {\r\n    const handleFilterChange = (event) =>\r\n        setFiltered(event.target.value);\r\n\r\n    return(\r\n            <div>\r\n                filter shown with:\r\n                <input\r\n                    value={filtered}\r\n                    onChange={handleFilterChange}/>\r\n            </div>\r\n    )\r\n};\r\n\r\nexport default Filtteri","import React from 'react'\r\n\r\nconst LisaaHenkilo = ({create,setNewName, newNumber, setNewNumber,update,persons,setPersons,newName}) => {\r\n\r\n    const handleNumberChange = (event) =>\r\n        setNewNumber(event.target.value);\r\n\r\n    const handleNameChange = event =>\r\n        setNewName(event.target.value);\r\n\r\n\r\n\r\n    const addToList = (event) => {\r\n        event.preventDefault();\r\n        const isAldreadyAdded = persons.find(person => person.name === newName);\r\n        const personObject = {\r\n            name: newName,\r\n            number: newNumber,\r\n        };\r\n\r\n\r\n        if(isAldreadyAdded !== undefined && isAldreadyAdded.name.includes(newName)) {\r\n            updatePerson(isAldreadyAdded, newNumber)\r\n        }else{\r\n            setPersons(create(personObject) || persons.concat(personObject));\r\n\r\n            setNewName(\"\")\r\n            setNewNumber(\"\")\r\n        }\r\n\r\n\r\n\r\n\r\n    };\r\n    const updatePerson = (person, newNumber) => {\r\n        if(window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`))\r\n            update({...person, number: newNumber})\r\n    };\r\n    return(\r\n        <>\r\n\r\n            <form onSubmit={addToList}>\r\n                <div>\r\n                    name: <input value={newName} onChange={handleNameChange}/>\r\n                </div>\r\n                <div>\r\n                    number: <input value={newNumber} onChange={handleNumberChange}/>\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n};\r\nexport default LisaaHenkilo","import React from 'react'\r\n\r\nconst Henkilot = ({ persons, filtered, remove }) => {\r\n\r\n    const personNames = () => persons.filter(person =>\r\n        person.name.toLowerCase().includes(filtered.toLowerCase())).map(person => {\r\n        return <p key={person.name}>{person.name} {person.number}\r\n            <button onClick={() => remove(person)}>delete</button></p>\r\n    });\r\n\r\n    return(\r\n        <>\r\n            {personNames()}\r\n        </>\r\n    )\r\n};\r\n\r\n    export default Henkilot","import React from 'react'\r\n\r\nconst Success = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"success\">\r\n            {message}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Success","import React from 'react'\r\n\r\nconst Error = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"error\">\r\n            {message}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Error","import React, { useState, useEffect } from 'react';\r\nimport personService from './services/personservice'\r\nimport Filtteri from \"./components/Filtteri.js\";\r\nimport LisaaHenkilo from \"./components/LisaaHenkilo.js\";\r\nimport Henkilot from \"./components/Henkilot\";\r\nimport Success from \"./components/Success\";\r\nimport Error from \"./components/Error\";\r\n\r\nconst App = () => {\r\n\r\n    const [persons,setPersons] = useState([]);\r\n    const [ newName, setNewName ] = useState('');\r\n    const[ newNumber,setNewNumber] = useState('');\r\n    const [filtered, setFiltered ] = useState('');\r\n    const [success,setSuccess] = useState(null);\r\n    const [error,setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(initialPersons => {\r\n                setPersons(initialPersons)\r\n\r\n            })\r\n    }, []);\r\n\r\n\r\n\r\n    const remove = (personObject) => {\r\n        if (window.confirm(`Poistetaanko ${personObject.name}`)) {\r\n            personService.remove(personObject.id)\r\n                .then(a => {\r\n                personService.getAll()\r\n                    .then(person => {\r\n                    setPersons(person)\r\n                })\r\n            });\r\n            setSuccess(\r\n                `Removed' ${personObject.name} 'succesfully`\r\n            );\r\n            setTimeout(() => {\r\n                setSuccess(null)\r\n            }, 5000)\r\n        }\r\n    };\r\n\r\n\r\n\r\n        const create = personObject => {\r\n            personService\r\n                .create(personObject)\r\n                .then(returnedPerson => {\r\n                    setPersons(persons.concat(returnedPerson));\r\n                    setNewName('');\r\n                    setSuccess(\r\n                        `Added ${personObject.name}`\r\n                    );\r\n                    setTimeout(() => {\r\n                        setSuccess(null)\r\n                    }, 5000)\r\n                })\r\n                .catch(error => {\r\n                    setError(error.response.data.error)\r\n                    console.log(error.response.data)\r\n                    setTimeout(() => {\r\n                        setError(null)\r\n                    }, 2000)\r\n                })\r\n        }\r\n\r\n    const update = (personObject) => {\r\n        personService\r\n            .update(personObject.id, personObject)\r\n            .then(x => {\r\n                setPersons(persons.map(person => person.id !== personObject.id ? person : personObject));\r\n                setSuccess(\r\n                    `Changed ${personObject.name}'s number`\r\n                );\r\n                setTimeout(() => {\r\n                    setSuccess(null)\r\n                }, 5000)\r\n            })\r\n            .catch(error => {\r\n                setError(\r\n                    `${personObject.name} is aldready deleted from the server`)\r\n            });\r\n        setTimeout(() => {\r\n            setSuccess(null)\r\n        }, 5000)\r\n    };\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h3>Phonebook</h3>\r\n            <div>\r\n                <Filtteri filtered={filtered} setFiltered={setFiltered}/>\r\n            </div>\r\n            <Success message={success}/>\r\n            <Error message={error}/>\r\n            <h3>Add new</h3>\r\n            <LisaaHenkilo\r\n                newName={newName} setNewName={setNewName}\r\n                newNumber={newNumber} setNewNumber={setNewNumber} persons={persons}\r\n                setPersons={setPersons} create={create} update={update}\r\n            />\r\n            <h3>Numbers</h3>\r\n            <Henkilot persons={persons} filtered={filtered} remove={remove}/>\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css'\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}